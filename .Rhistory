View(resultado)
resultado$V2.x <- NULL
View(resultado)
10690 - 10335
10690 - 355
View(resultado)
View(docs_finais)
View(docs_alvaras)
View(docs_finais)
View(resultado)
View(docs_alvaras)
View(docs_finais)
View(resultado)
resultado[,filename_sem_ext:=gsub(".*/.*/","",V1)]
View(resultado)
table(duplicated(resultado$filename_sem_ext))
resultado = resultado[!duplicated(resultado$filename_sem_ext), ]
resultado$filename_sem_ext <- NULL
View(resultado)
table(duplicated(resultado$V1))
write.table(resultado, "Documentos/Semantix/alvaras/alvaras_2019-06-26.csv", sep="|", quote = F, row.names = F, na = "")
write.table(resultado, "Documentos/Semantix/alvaras/alvaras_2019-06-26.csv", sep="|", quote = F, row.names = F, col.names = F, na = "")
alvaras = fread("Documentos/Semantix/alvaras/2019-06-21 17_52_52.685066.csv", sep = ";", header = F, colClasses = "character")
alvaras = alvaras[alvaras[, V1 == docs_finais[, V1]]]
alvaras = fread("Documentos/Semantix/alvaras/2019-06-21 17_52_52.685066.csv", sep = ";", header = F, colClasses = "character")
resultado = merge(docs_finais, alvaras,
by = "V1",
all.x = T, all.y = F)
resultado[,filename_sem_ext:=gsub(".*/.*/","",V1)]
table(duplicated(resultado$filename_sem_ext))
resultado = resultado[!duplicated(resultado$filename_sem_ext), ]
resultado$filename_sem_ext <- NULL
write.table(resultado, "Documentos/Semantix/alvaras/alvaras_2019-06-26.csv", sep="|", quote = F, row.names = F, col.names = F, na = "")
rm(list=ls())
##################################################################################################################
alvaras = fread("Documentos/Semantix/alvaras/alvaras_2019-06-26.csv", sep = "|", header = F, colClasses = "character")
View(alvaras)
##################################################################################################################
alvaras = fread("Documentos/Semantix/alvaras/alvaras_2019-06-26.csv", sep = "|", header = F, colClasses = "character")
View(alvaras)
preds_layout = fread("Documentos/Semantix/alvaras/preds_layout.csv", sep = ",", header = F, colClasses = "character")
View(preds_layout)
preds_layout = fread("Documentos/Semantix/alvaras/preds_layout.csv", sep = ",", colClasses = "character")
View(preds_layout)
preds_alvaras = fread("Documentos/Semantix/alvaras/preds_alvara.csv", sep = ",", colClasses = "character")
View(preds_alvaras)
View(alvaras)
View(preds_alvaras)
View(preds_layout)
preds_alvaras = fread("Documentos/Semantix/alvaras/preds_alvara.csv", sep = "|", colClasses = "character")
View(preds_alvaras)
View(preds_layout)
View(preds_alvaras)
View(alvaras)
View(preds_layout)
View(preds_layout)
View(preds_alvaras)
alvaras[,filename_sem_ext:=gsub(".*/.*/","",V1)]
preds_layout[,filename_sem_ext:=gsub(".*/.*/","",filename)]
preds_alvaras[,filename_sem_ext:=gsub(".*/.*/","",file_name)]
View(preds_layout)
View(preds_alvaras)
View(alvaras)
alvaras$V1 <- NULL
View(alvaras)
alvaras$V2 <- NULL
alvaras$V3 <- NULL
alvaras$V4 <- NULL
alvaras$V5 <- NULL
alvaras$V6 <- NULL
alvaras$V7 <- NULL
alvaras$V8 <- NULL
alvaras$V9 <- NULL
alvaras$V10 <- NULL
alvaras$V11 <- NULL
alvaras$V12 <- NULL
alvaras$V13 <- NULL
View(alvaras)
alvaras$V14 <- NULL
View(preds_alvaras)
preds_alvaras$company <- NULL
preds_alvaras$bucket <- NULL
preds_alvaras$process_id <- NULL
preds_alvaras$doc_type_re <- NULL
preds_alvaras$confidence_type_re <- NULL
preds_alvaras$doc_type_ml <- NULL
preds_alvaras$timestamp <- NULL
View(preds_alvaras)
preds_alvaras$doc_quality_ml <- NULL
preds_alvaras$confidence_quality_ml <- NULL
View(preds_alvaras)
resultado_primeiro_preds = merge(alvaras, preds_alvaras,
by = "filename_sem_ext",
all.x = T, all.y = F)
View(resultado_primeiro_preds)
table(duplicated(resultado_primeiro_preds$file_name))
View(resultado_primeiro_preds)
preds_layout$bucket <- NULL
preds_layout$company <- NULL
resultado_segundo_preds = merge(alvaras, preds_layout,
by = "filename_sem_ext",
all.x = T, all.y = F)
View(resultado_segundo_preds)
sum(is.na(resultado_segundo_preds$layout))
table(duplicated(resultado_segundo_preds$filename))
table(duplicated(resultado_segundo_preds$filename_sem_ext))
table(duplicated(resultado_primeiro_preds$filename_sem_ext))
resultado_primeiro_preds = resultado_primeiro_preds[!duplicated(resultado_primeiro_preds$filename_sem_ext), ]
resultado_segundo_preds = resultado_segundo_preds[!duplicated(resultado_segundo_preds$filename_sem_ext), ]
View(resultado_segundo_preds)
resultado_final = merge(resultado_primeiro_preds, resultado_segundo_preds,
by = "filename_sem_ext",
all.x = T, all.y = T)
View(resultado_final)
table(duplicated(resultado_final$filename_sem_ext))
table(duplicated(resultado_final$file_name))
table(duplicated(resultado_final$filename))
resultado_final$file_name <- NULL
View(resultado_final)
resultado_final$filename_sem_ext <- NULL
View(resultado_final)
View(resultado_final)
resultado_final = resultado_final[,c(2, 1, 3, 4, 5, 6, 7, 8, 9)]
View(resultado_final)
View(resultado_final)
write.table(resultado, "Documentos/Semantix/alvaras/alvaras_confiabilidade_2019-06-26.csv", sep="|", quote = F, row.names = F, na = "")
write.table(resultado_final, "Documentos/Semantix/alvaras/alvaras_confiabilidade_2019-06-26.csv", sep="|", quote = F, row.names = F, na = "")
View(preds_alvaras)
View(preds_layout)
setwd("Documentos/mestrado/")
library(data.table)
tav <- read.csv(file = "Reuters_Pos_Tag.csv", header = TRUE, check.names = FALSE)
View(tav)
tav <- fread(file = "reuters_pos_tag_final.csv", header = TRUE, check.names = FALSE)
View(tav)
View(tav)
class(tav)
View(tav)
tav$`13-member/jj` <- NULL
View(tav)
tav$`13-nation/jj` <- NULL
tav$`200-foot/jj` <- NULL
tav$`20s/nns` <- NULL
tav$`24-hour/jj` <- NULL
tav$`252p/jj` <- NULL
tav$`b/nnp` <- NULL
tav$`t./nnp` <- NULL
tav$`suharto""/nnp` <- NULL
tav$`s/pos` <- NULL
tav$`s/vbz` <- NULL
tav$`opec""/nn` <- NULL
tav$`ii/nnp` <- NULL
tav$`n't/rb` <- NULL
tav$`n.m./nnp` <- NULL
tav$`n.v./nnp` <- NULL
write.csv(tav, file = "reuters_pos_tag_final.csv", row.names = FALSE, col.names = FALSE)
tav <- fread(file = "reuters_pos_tag_final.csv", header = TRUE, check.names = FALSE)
View(tav)
View(tav)
install.packages("zoo")
library(e1071)
library(zoo)
teste = cmeans(t(tav), 3)
teste
set.seed(42)
start.time <- Sys.time()
for( index in 1:5  )
{
d = NULL
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
best_start <- .Machine$integer.max
for( index_best_start in 1:100 )
{
fuzzyFeature <- cmeans(t(tav), i)
if( best_start > fuzzyFeature$withinerror )
{
best_start <- fuzzyFeature$withinerror
fuzzyFeatureBest <- fuzzyFeature
}
}
result_index <- fclustIndex(fuzzyFeatureBest, t(tav), index = "fukuyama.sugeno")
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = paste(paste('/home/semantix/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste', index, sep ="_" ), 'csv',sep="."), row.names = FALSE)
png(filename = paste(paste("/home/semantix/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste", index, sep = "_"), 'png', sep = "." ) )
plot(d$i, d$result_index, type = "o")
dev.off()
}
start.time <- Sys.time()
for( index in 1:5  )
{
d = NULL
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
best_start <- .Machine$integer.max
for( index_best_start in 1:100 )
{
fuzzyFeature <- cmeans(t(tav), i)
if( best_start > fuzzyFeature$withinerror )
{
best_start <- fuzzyFeature$withinerror
fuzzyFeatureBest <- fuzzyFeature
}
}
result_index <- fclustIndex(fuzzyFeatureBest, t(tav), index = "fukuyama.sugeno")
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = paste(paste('/home/semantix/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste', index, sep ="_" ), 'csv',sep="."), row.names = FALSE)
png(filename = paste(paste("/home/semantix/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste", index, sep = "_"), 'png', sep = "." ) )
plot(d$i, d$result_index, type = "o")
dev.off()
}
start.time <- Sys.time()
for( index in 1:5  )
{
d = NULL
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
best_start <- .Machine$integer.max
for( index_best_start in 1:100 )
{
fuzzyFeature <- cmeans(t(tav), i)
if( best_start > fuzzyFeature$withinerror )
{
best_start <- fuzzyFeature$withinerror
fuzzyFeatureBest <- fuzzyFeature
}
}
result_index <- fclustIndex(fuzzyFeatureBest, t(tav), index = "fukuyama.sugeno")
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = paste(paste('/home/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste', index, sep ="_" ), 'csv',sep="."), row.names = FALSE)
png(filename = paste(paste("/home/Documentos/mestrado/mestrado/fukuyama/fukuyama_sugeno_teste", index, sep = "_"), 'png', sep = "." ) )
plot(d$i, d$result_index, type = "o")
dev.off()
}
end.time <- Sys.time()
time.taken <- end.time - start.time
getwd()
start.time <- Sys.time()
for( index in 1:5  )
{
d = NULL
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
best_start <- .Machine$integer.max
for( index_best_start in 1:100 )
{
fuzzyFeature <- cmeans(t(tav), i)
if( best_start > fuzzyFeature$withinerror )
{
best_start <- fuzzyFeature$withinerror
fuzzyFeatureBest <- fuzzyFeature
}
}
result_index <- fclustIndex(fuzzyFeatureBest, t(tav), index = "fukuyama.sugeno")
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = paste(paste('fukuyama/fukuyama_sugeno_teste', index, sep ="_" ), 'csv',sep="."), row.names = FALSE)
png(filename = paste(paste("fukuyama/fukuyama_sugeno_teste", index, sep = "_"), 'png', sep = "." ) )
plot(d$i, d$result_index, type = "o")
dev.off()
}
end.time <- Sys.time()
time.taken <- end.time - start.time
time.taken
for( index in 1:5  )
{
d = NULL
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyFeature <- cmeans(t(tav), i)
result_index <- fclustIndex(fuzzyFeature, t(tav), index = "xie.beni")
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = paste(paste('xb/xb_teste', index, sep ="_" ), 'csv',sep="."), row.names = FALSE)
png(filename = paste(paste("xb/xb_teste", index, sep = "_"), 'png', sep = "." ) )
plot(d$i, d$result_index, type = "o")
dev.off()
}
for(index in 1:5){
knee = c()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyFeature <- cmeans(t(tav), i)
knee <- c(knee, fuzzyFeature$withinerror)
}
delta_one_element = diff(knee)
soma_deltas = rollapply(delta_one_element, 2, sum)
cluster_utilizado = which.min(delta_one_element) + 2
cluster_knee = c(2:floor( sqrt( nrow( t(tav) ) ) ))
png(filename = paste(paste("joelho/joelho_teste", index, sep = "_"), 'png', sep = "." ) )
plot(cluster_knee, knee, type = "o", xlab="cluster",ylab="erro")
dev.off()
print(cluster_utilizado)
}
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
library(e1071)
library(fclust)
start.time <- Sys.time()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = '/home/Documentos/mestrado/mestrado/silhueta/silhueta_teste_1.csv', row.names = FALSE)
png(filename = "/home/Documentos/mestrado/mestrado/silhueta/silhueta_teste_1.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
end.time <- Sys.time()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_1.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_1.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_2.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_2.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_3.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_3.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_4.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_4.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_5.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_5.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_6.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_6.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_7.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_7.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_8.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_8.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_9.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_8.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_8.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_8.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_9.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_9.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
d = NULL
fuzzyFeature = list()
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
fuzzyClustering <- cmeans(t(tav), i)
fuzzyFeature[[i]] <- fuzzyClustering$membership
}
for( i in 2:floor( sqrt( nrow( t(tav) ) ) ) )
{
result_index <- SIL.F(t(tav), fuzzyFeature[[i]], alpha = 1)
d = rbind(d, data.frame(i, result_index))
}
write.csv(d, file = 'silhueta/silhueta_teste_10.csv', row.names = FALSE)
png(filename = "silhueta/silhueta_teste_10.png" )
plot(d$i, d$result_index, type = "o")
dev.off()
fuzzyFeature <- cmeans(t(tav), 7)
fuzzyFeature
